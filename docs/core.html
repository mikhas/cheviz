---

title: cheviz core

keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">chess</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">board</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Board</span><span class="p">()</span>
board<span class="o">?</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">board</span><span class="o">.</span><span class="n">legal_moves</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;LegalMoveGenerator at 0x7fb53c6f2860 (Nh3, Nf3, Nc3, Na3, h3, g3, f3, e3, d3, c3, b3, a3, h4, g4, f4, e4, d4, c4, b4, a4)&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>board</code> starts square index @ a1 = 0 up to h8 = 63. The API uses a bool to denote color, further proving that chess people have a poor sense of (software) aesthetics and should instead pay others to write their software :) I use python-chess because of its rich API, although I wish the concerns were better separated.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
1 . . . . . . .
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="mi">46</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>. . . . . . . .
. . . . . 1 . 1
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each square index has a 'constant' we can use instead.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">chess</span><span class="o">.</span><span class="n">G6</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>. . . . . . . .
. . . . . 1 . 1
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>OK, let's pretend colors aren't encoded by booleans, we have 'constants' for them, too.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">defenders_f6</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">chess</span><span class="o">.</span><span class="n">F6</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">defenders_f6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>chess.SquareSet</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">defenders_f6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>3</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>SquareSet is an actual set, with all the set operations you'd expect. Python-chess is also Bitboard-aware.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">defenders_h6</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">chess</span><span class="o">.</span><span class="n">H6</span><span class="p">)</span>
<span class="n">heavy_duty_defenders</span> <span class="o">=</span> <span class="n">defenders_h6</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">defenders_f6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">heavy_duty_defenders</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>. . . . . . 1 .
. . . . . . 1 .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We use a 1-dim array because we will mostly use board indices anyway. We reverse the mapped indices like so: <code>data[63-i] == square[i]</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wa</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">SQUARES</span><span class="p">),))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">64</span><span class="p">):</span>
    <span class="n">wa</span><span class="p">[</span><span class="mi">63</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
<span class="n">wa</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 2., 2., 3., 2., 2., 3., 2., 2., 1., 1., 1.,
       4., 4., 1., 1., 1., 0., 1., 1., 1., 1., 1., 1., 0.])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ba</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">SQUARES</span><span class="p">),))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">64</span><span class="p">):</span>
    <span class="n">ba</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">attackers</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
<span class="n">ba</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 2., 2., 3., 2., 2., 3., 2., 2., 1., 1., 1.,
       4., 4., 1., 1., 1., 0., 1., 1., 1., 1., 1., 1., 0.])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For plotting, we transform the array into a 2-dim matrix. We will have to properly inverse the index to make sure that white pieces are located in the last rows of the matrix.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">wa</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">matshow</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.image.AxesImage at 0x7fb50b2bdb00&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The board indexing chosen by Python chess can feel cumbersome. Essentially, the rows are permutated by 7-rows shift.
To map board indices to array (matrix) indices we need to compute a row offset and adjust the index like so:</p>

<pre><code> 0  1  2 ...  7 ==&gt; row_offset + i % dim ==&gt;  56 57 58 ... 63
 8  9 10 ... 15                               48 49 50 ... 55
16 17 18 ... 23                               40 41 42 ... 47
24 25 26 ... 31                               32 33 34 ... 39
32 33 34 ... 39                               24 25 26 ... 31
40 41 42 ... 47                               16 17 18 ... 23
48 49 50 ... 55                                8  9 10 ... 15
56 57 58 ... 63                                0  1  2 ...  7</code></pre>
<p><code>row_offset</code> simulates the row shift like so: <code>(dim - 1 - (i // dim)) * dim</code>, where <code>i // dim</code> tells us the current row of the index.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="makeThreatenedSquares" class="doc_header"><code>makeThreatenedSquares</code><a href="https://github.com/fastai/cheviz/tree/master/cheviz/core.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>makeThreatenedSquares</code>(<strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="show" class="doc_header"><code>show</code><a href="https://github.com/fastai/cheviz/tree/master/cheviz/core.py#L31" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>show</code>(<strong><code>data</code></strong>:<code>ndarray</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fen</span> <span class="o">=</span> <span class="s1">&#39;rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1&#39;</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">makeThreatenedSquares</span><span class="p">(</span><span class="n">fen</span><span class="o">=</span><span class="n">fen</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">ts</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">WHITE</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.image.AxesImage at 0x7fb50b1f5080&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's have two filter functions to split the threatened squares into the following:</p>
<ol>
<li>Pieces of us defended by other pieces from our side: <code>defence(...)</code>.</li>
<li>Empty squares or squares with enemy pieces that are currently under attack by our pieces: <code>attack(...)</code>.</li>
</ol>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="defence" class="doc_header"><code>defence</code><a href="https://github.com/fastai/cheviz/tree/master/cheviz/core.py#L35" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>defence</code>(<strong><code>board</code></strong>:<code>Board</code>, <strong><code>side</code></strong>:<code>bool</code>, <strong><code>square</code></strong>:<code>int</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="attack" class="doc_header"><code>attack</code><a href="https://github.com/fastai/cheviz/tree/master/cheviz/core.py#L38" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>attack</code>(<strong><code>board</code></strong>:<code>Board</code>, <strong><code>side</code></strong>:<code>bool</code>, <strong><code>square</code></strong>:<code>int</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">ts</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">defence</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.image.AxesImage at 0x7fb50b1ddda0&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">ts</span><span class="p">(</span><span class="n">chess</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">attack</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.image.AxesImage at 0x7fb50b1517b8&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAECCAYAAADXWsr9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4yLjEsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+j8jraAAALL0lEQVR4nO3d78vd9X3H8edrMZr6a2HTFTFSJyuCFGYk2BZBNtMWXYu70xsKLaxsZDe2TtmgtLsz+g+UbjAKRe2EqqW1CkM2V2krIqx2icZVjR1VLGbWxiJt1LJE7Xs3rqNkaeb1jX4/5zrJ+/mAi5zryuG8P1fC8/p+z7nOOZ9UFZJObr+x0QuQNJ6hSw0YutSAoUsNGLrUgKFLDaxE6EmuTvLDJD9K8tnBs25JciDJYyPnHDHvgiTfTbIvyeNJbhg8b0uS7yd5dDHv8yPnLWZuSvJIkntGz1rMeybJD5LsTbJ78KytSe5M8uTi//CDA2ddvPie3vg4mOTGWW68qjb0A9gEPAVcBJwKPApcMnDelcBlwGNL+v7OAy5bXD4L+K/B31+AMxeXNwMPAR8Y/D3+NXA7cM+S/k2fAc5Z0qxbgT9bXD4V2LqkuZuA54H3zHF7q3BEvxz4UVU9XVWHga8BfzxqWFU9ALw46vaPMe8nVfXw4vJLwD7g/IHzqqpeXny6efEx7FlRSbYBHwVuGjVjoyQ5m7UDw80AVXW4qn6+pPE7gaeq6sdz3NgqhH4+8OwRn+9nYAgbKcmFwHbWjrIj52xKshc4ANxXVSPnfRH4DPCrgTOOVsC3kuxJsmvgnIuAF4CvLO6a3JTkjIHzjnQdcMdcN7YKoecYXzvpnpeb5Ezgm8CNVXVw5Kyqer2qLgW2AZcned+IOUk+Bhyoqj0jbv8tXFFVlwHXAH+R5MpBc05h7W7el6pqO/AKMPQxJIAkpwLXAt+Y6zZXIfT9wAVHfL4NeG6D1jJEks2sRX5bVd21rLmL08z7gasHjbgCuDbJM6zd5boqyVcHzXpTVT23+PMAcDdrd/9G2A/sP+KM6E7Wwh/tGuDhqvrpXDe4CqH/B/DeJL+7+El2HfDPG7ym2SQJa/fx9lXVF5Yw79wkWxeX3wV8CHhyxKyq+lxVbauqC1n7f/tOVX1ixKw3JDkjyVlvXAY+Agz5DUpVPQ88m+TixZd2Ak+MmHWU65nxtB3WTk02VFW9luQvgX9j7ZHGW6rq8VHzktwB/AFwTpL9wN9V1c2j5rF21Psk8IPF/WaAv62qfxk07zzg1iSbWPtB/vWqWsqvvZbk3cDdaz8/OQW4varuHTjv08Bti4PQ08CnBs4iyenAh4E/n/V2Fw/lSzqJrcKpu6TBDF1qwNClBgxdasDQpQZWKvTBT2fcsFnOc95Gz1up0IFl/mMu9T/Oec7byHmrFrqkAYY8YebUnFZbOP4X+bzKITZz2uzr2ehZznPesub9D69wuA792gvFhjwFdgtn8P7sHHHTkt7CQ/XtY37dU3epAUOXGjB0qQFDlxowdKkBQ5caMHSpAUOXGpgU+jK3TJI0v3VDX7zJ4D+y9ha0lwDXJ7lk9MIkzWfKEX2pWyZJmt+U0NtsmSSdrKa8qGXSlkmLF8rvAtjC6e9wWZLmNOWIPmnLpKr6clXtqKody3w5n6T1TQn9pN4ySepg3VP3ZW+ZJGl+k954YrFP2Ki9wiQN5jPjpAYMXWrA0KUGDF1qwNClBgxdasDQpQYMXWrA0KUGDF1qwNClBgxdasDQpQYMXWrA0KUGDF1qwNClBgxdasDQpQambMl0S5IDSR5bxoIkzW/KEf2fgKsHr0PSQOuGXlUPAC8uYS2SBvE+utTApPd1n8K916TVNdsR3b3XpNXlqbvUwJRfr90B/DtwcZL9Sf50/LIkzWnKJovXL2Mhksbx1F1qwNClBgxdasDQpQYMXWrA0KUGDF1qwNClBmZ7UcuRXn/vafziH35vxE2vhO9deudS531g78eXOm/Z/Pecz+t/9eAxv+4RXWrA0KUGDF1qwNClBgxdasDQpQYMXWrA0KUGDF1qwNClBqa8OeQFSb6bZF+Sx5PcsIyFSZrPlOe6vwb8TVU9nOQsYE+S+6rqicFrkzSTKXuv/aSqHl5cfgnYB5w/emGS5nNc99GTXAhsBx4asRhJY0wOPcmZwDeBG6vq4DH+fleS3Ul2v/aLX865Rknv0KTQk2xmLfLbququY13nyL3XTvlNN1mUVsmUR90D3Azsq6ovjF+SpLlNOaJfAXwSuCrJ3sXHHw1el6QZTdl77UEgS1iLpEF8ZpzUgKFLDRi61IChSw0YutSAoUsNGLrUgKFLDaSqZr/Rs/Nb9f7snP12Jb21h+rbHKwXf+0Jbh7RpQYMXWrA0KUGDF1qwNClBgxdasDQpQYMXWrA0KUGDF1qYMq7wG5J8v0kjy72Xvv8MhYmaT5T9l47BFxVVS8v3t/9wST/WlXfG7w2STOZ8i6wBby8+HTz4mP+V8JIGmbqTi2bkuwFDgD3VZV7r0knkEmhV9XrVXUpsA24PMn7jr7OkXuvvcqhudcp6R04rkfdq+rnwP3A1cf4uzf3XtvMaTMtT9Icpjzqfm6SrYvL7wI+BDw5emGS5jPlUffzgFuTbGLtB8PXq+qescuSNKcpj7r/J7B9CWuRNIjPjJMaMHSpAUOXGjB0qQFDlxowdKkBQ5caMHSpAUOXGjB0qQFDlxowdKkBQ5caMHSpAUOXGjB0qQFDlxowdKkBQ5camBz6YhOHR5L4xpDSCeZ4jug3APtGLUTSOFO3ZNoGfBS4aexyJI0w9Yj+ReAzwK8GrkXSIFN2avkYcKCq9qxzPfdek1bUlCP6FcC1SZ4BvgZcleSrR1/Jvdek1bVu6FX1uaraVlUXAtcB36mqTwxfmaTZ+Ht0qYEpmyy+qaruZ23bZEknEI/oUgOGLjVg6FIDhi41YOhSA4YuNWDoUgOGLjVg6FIDhi41YOhSA4YuNWDoUgOGLjVg6FIDhi41YOhSA4YuNWDoUgOT3jNu8VbPLwGvA69V1Y6Ri5I0r+N5c8g/rKqfDVuJpGE8dZcamBp6Ad9KsifJrpELkjS/qafuV1TVc0l+B7gvyZNV9cCRV1j8ANgFsIXTZ16mpHdi0hG9qp5b/HkAuBu4/BjXce81aUVN2U31jCRnvXEZ+Ajw2OiFSZrPlFP3dwN3J3nj+rdX1b1DVyVpVuuGXlVPA7+/hLVIGsRfr0kNGLrUgKFLDRi61IChSw0YutSAoUsNGLrUgKFLDRi61IChSw0YutSAoUsNGLrUgKFLDRi61IChSw0YutSAoUsNTAo9ydYkdyZ5Msm+JB8cvTBJ85m6gcPfA/dW1ceTnAru0CCdSNYNPcnZwJXAnwBU1WHg8NhlSZrTlFP3i4AXgK8keSTJTYuNHP6PJLuS7E6y+1UOzb5QSW/flNBPAS4DvlRV24FXgM8efSW3ZJJW15TQ9wP7q+qhxed3sha+pBPEuqFX1fPAs0kuXnxpJ/DE0FVJmtXUR90/Ddy2eMT9aeBT45YkaW6TQq+qvcCOwWuRNIjPjJMaMHSpAUOXGjB0qQFDlxowdKkBQ5caMHSpAUOXGjB0qQFDlxowdKkBQ5caMHSpAUOXGjB0qQFDlxowdKmBdUNPcnGSvUd8HExy4zIWJ2ke675nXFX9ELgUIMkm4L+BuwevS9KMjvfUfSfwVFX9eMRiJI1xvKFfB9wxYiGSxpkc+uI93a8FvvH//L17r0kr6niO6NcAD1fVT4/1l+69Jq2u4wn9ejxtl05Ik0JPcjrwYeCuscuRNMLULZl+Cfz24LVIGsRnxkkNGLrUgKFLDRi61IChSw0YutSAoUsNGLrUgKFLDaSq5r/R5AXg7bxm/RzgZzMvZxVmOc95y5r3nqo69+gvDgn97Uqyu6p2nGyznOe8jZ7nqbvUgKFLDaxa6F8+SWc5z3kbOm+l7qNLGmPVjuiSBjB0qQFDlxowdKkBQ5ca+F9BKXzQzVA1SQAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

